groups:
  # Local development and testing
  - name: local-dev
    targets:
      - name: localhost
        uri: localhost
        config:
          transport: local

  # Production web servers
  - name: web-servers
    targets:
      - name: web-01
        uri: web-01.example.com
        alias: prod-web-01
      - name: web-02
        uri: web-02.example.com
        alias: prod-web-02
    config:
      ssh:
        user: deploy
        private-key: ~/.ssh/id_rsa
    vars:
      environment: production
      app_port: 3000
      log_level: info

  # Database servers
  - name: database-servers
    targets:
      - name: db-primary
        uri: db-primary.example.com
      - name: db-replica-01
        uri: db-replica-01.example.com
    config:
      ssh:
        user: dbadmin
        private-key: ~/.ssh/db_key
    vars:
      environment: production
      backup_enabled: true
      replication_enabled: true

  # Staging environment
  - name: staging
    targets:
      - name: staging-web
        uri: staging.example.com
      - name: staging-db
        uri: staging-db.example.com
    config:
      ssh:
        user: deploy
        private-key: ~/.ssh/staging_key
        host-key-check: false
    vars:
      environment: staging
      debug_mode: true
      log_level: debug

  # Load balancers
  - name: load-balancers
    targets:
      - name: lb-01
        uri: 10.0.1.10
      - name: lb-02
        uri: 10.0.1.11
    config:
      ssh:
        user: admin
        private-key: ~/.ssh/lb_key
    vars:
      environment: production
      health_check_interval: 30

  # Windows servers
  - name: windows-servers
    targets:
      - name: win-app-01
        uri: win-app-01.example.com
      - name: win-app-02
        uri: win-app-02.example.com
    config:
      transport: winrm
      winrm:
        user: Administrator
        password-prompt: true
        ssl: true
        ssl-verify: false
    vars:
      environment: production
      os_type: windows

  # Docker hosts
  - name: docker-hosts
    targets:
      - name: docker-01
        uri: docker-01.example.com
      - name: docker-02
        uri: docker-02.example.com
    config:
      ssh:
        user: docker
        private-key: ~/.ssh/docker_key
    vars:
      environment: production
      docker_version: "24.0"
      swarm_enabled: true

  # Monitoring and logging
  - name: monitoring
    targets:
      - name: prometheus
        uri: prometheus.example.com
      - name: grafana
        uri: grafana.example.com
      - name: elk-stack
        uri: elk.example.com
    config:
      ssh:
        user: monitoring
        private-key: ~/.ssh/monitoring_key
    vars:
      environment: production
      retention_days: 30

  # CI/CD runners
  - name: ci-runners
    targets:
      - name: runner-01
        uri: runner-01.example.com
      - name: runner-02
        uri: runner-02.example.com
    config:
      ssh:
        user: cicd
        private-key: ~/.ssh/cicd_key
    vars:
      environment: production
      runner_type: gitlab
      concurrent_jobs: 4

  # Edge/CDN nodes
  - name: edge-nodes
    targets:
      - name: edge-us-east
        uri: edge-us-east.example.com
      - name: edge-eu-west
        uri: edge-eu-west.example.com
      - name: edge-ap-south
        uri: edge-ap-south.example.com
    config:
      ssh:
        user: edge
        private-key: ~/.ssh/edge_key
    vars:
      environment: production
      cache_enabled: true
      cache_ttl: 3600

  # Kubernetes nodes
  - name: k8s-cluster
    targets:
      - name: k8s-master-01
        uri: k8s-master-01.example.com
      - name: k8s-worker-01
        uri: k8s-worker-01.example.com
      - name: k8s-worker-02
        uri: k8s-worker-02.example.com
    config:
      ssh:
        user: kubernetes
        private-key: ~/.ssh/k8s_key
    vars:
      environment: production
      k8s_version: "1.28"
      cni: calico

# Global configuration applied to all targets
config:
  transport: ssh
  ssh:
    port: 22
    host-key-check: true
    connect-timeout: 10
    disconnect-timeout: 5
